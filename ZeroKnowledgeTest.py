from ZeroKnowledge.Zk import Zk
import json

# Setup ZK Object
zero = Zk()

# Obtain ZK Secret
secrets = zero.getSecret()
print(secrets)
# s = [36298, 22450, 31070, 14247, 19428, 21811, 850, 21318, 13569, 43048, 3888, 11181, 43131, 34380, 43053, 37079, 17775, 27107, 850, 26964, 26569, 24730, 9358, 42233, 25301, 9109, 44321, 6554, 15769, 18505, 44622, 39623, 12133, 31600, 16273, 39478, 31878, 28728, 25549, 21091, 40376, 25331, 32286, 1760, 24559, 33203, 6510, 6726, 42434, 22586, 35070, 43103, 23971, 8151, 5076, 15526, 24697, 24545, 5594, 14506, 27471, 14921, 17161, 7658, 23326, 35517, 42025, 43397, 7301, 12604, 25050, 27225, 13391, 13384, 8767, 20918, 1968, 22317, 7185, 35533, 38307, 16238, 12498, 35172, 24156, 41530, 36429, 35658, 25232, 18418, 4577, 10629, 11676, 12629, 6424, 69, 44337, 25729, 6841, 24913, 33684, 8058, 35573, 13524, 36334, 29738, 36103, 24175, 27975, 29280, 4824, 41945, 21016, 1293, 29098, 10587, 32581, 25156, 33090, 13852, 15764, 33637, 14193, 19483, 321, 9839, 12105, 4795, 38121, 19264, 33920, 37399, 13284, 8100, 34553, 10606, 32325, 19414, 25291, 142, 32948, 11910, 40401, 14244, 44024, 29964, 23230, 28711, 17658, 40572, 18062, 44623, 21929, 38636, 28567, 24207, 8921, 35795, 881, 33223, 24269, 17775, 13143, 38236, 10892, 23105, 8340, 14461, 22312, 38494, 39624, 41280, 30956, 44184, 40707, 24338, 14267, 15370, 37205, 6719, 36242, 41945, 7639, 20841, 1721, 42108, 39707, 4971, 11755, 41920, 36895, 7947, 22575, 43262, 6360, 20726, 10068, 31793, 17327, 13738, 2598, 19966, 26965, 7318, 11604, 13159, 19616, 19509, 44337, 29072, 33527, 33807, 28939, 17610, 17771, 42436, 40475, 38573, 17184, 43232, 3699, 248, 39591, 17797, 41425, 18781, 31179, 38229, 42750, 25681, 35119, 10734, 40134, 10355, 31477, 15984, 12386, 32711, 43697, 7152, 27535, 9842, 35097, 41099, 3673, 11579, 4934, 9002, 41485, 17762, 18800, 13516, 33968, 20734, 31761, 35607, 18559, 7238, 12773, 41526, 32104, 35182, 624, 44203, 13214, 38494, 4381, 32704, 21758, 5451, 2829, 18693, 26896, 43951, 11418, 36242, 28402, 4555, 21675, 10217, 3542, 33407, 33189, 27427, 21903, 4477, 10963, 41602, 872, 19597, 26584, 14728, 26593, 2649, 11811, 27849, 9716, 43761, 22555, 12915, 27304, 36070, 36979, 19682, 3561, 3466, 38628, 12544, 5436, 29771, 13, 9416, 37584, 36068, 20633, 37555, 9823, 21226, 26080, 44680, 32113, 32683, 40105, 8517, 6909, 30360, 7268, 32628, 42049, 19805, 41177, 14922, 1911, 9824, 9366, 42436, 5189, 23841, 1239, 6968, 43690, 3346, 7422, 25908, 41929, 13070, 19380, 14443, 2717, 3359, 34083, 8078, 28288, 23088, 2542, 14587, 6571, 41811, 42322, 8859, 4225, 14333, 21190, 3908, 31070, 22432, 17899, 18092, 31574, 21456, 32169, 21242, 5175, 19741, 13237, 34145, 9148, 6068, 5789, 10682, 29437, 32716, 7900, 28924, 13030, 14354, 22748, 18876, 34370, 5713, 21485, 22415, 26684, 35050, 39761, 40273, 24588, 2464, 35188, 25608, 15651, 40334, 35028, 2914, 10555, 23467, 19985, 5237, 39204, 29688, 11977, 35293, 6852, 42126, 26053, 30411, 15769, 3532, 33255, 13280, 37636, 19312, 5954, 22425, 16019, 31975, 2364, 23962, 151, 39059, 28551, 42889, 8291, 19715, 12502, 3973, 14900, 9978, 21123, 37591, 32244, 16705, 2034, 21928, 9334, 17207, 16505, 2925, 12101, 24219, 1940, 30953, 42798, 34584, 41545, 3119, 8329, 3085, 31364, 27659, 43456, 44505, 40420, 5594, 8026, 35366, 42902, 43344, 34983, 33841, 14884, 28973, 439, 23375, 39303, 9, 5172, 17742, 38636, 39535, 17016, 26040, 13191, 44240, 28016, 42169, 836, 27655, 3257, 27278, 42889, 26169, 25508, 38320, 23214, 29596, 1435, 37638, 14902, 5888, 44301, 15365, 5971, 40589, 36413, 42136, 43269, 31148, 3075, 10282, 25309, 35654]
# secrets = zero.changeSecret(s)
# print(secrets)

data = {
    "fruits":[
        "apple"
    ]
}

# Commit ZK Data
commits = zero.create(str(data))

# Solve ZK Data
trueString = zero.solve(secrets, commits)
print(trueString)

data2 = {
    "fruits":[
        "banana"
    ]
}

# Commit ZK Data
commits = zero.create(str(data2))

# Solve ZK Data
trueString = zero.solve(secrets, commits)
print(trueString)

# Convert to iterable Object
# data = json.loads(trueString.replace("'","\""))
# print(data['fruits'][0])
